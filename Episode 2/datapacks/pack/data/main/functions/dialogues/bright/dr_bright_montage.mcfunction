# Made by ESand
# Dr. Bright 2 dialogue & montage
# Called from end of first dialogue

execute if score @p Timer matches 0 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" Many moons ago, there was a horrific phenomenon which occurred across the entire globe.","color":"gray"}]
execute if score @p Timer matches 0 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 80 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" It was so widespread and monstrous that it even seemed to swallow everything and everyone whole, literally destroying everything and leaving nothing.","color":"gray"}]
execute if score @p Timer matches 80 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 240 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" This incident was dubbed the ","color":"gray"},{"text":"Limbo","color":"red"},{"text":", due to its tendency to leave everything it touched in, well, limbo.","color":"gray"}]
execute if score @p Timer matches 240 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 330 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" Despite this event, we, as a species, were not going to just let it ravage and destroy everything in its path, so we synthesized a group of the most intelligent to combat the epidemic.","color":"gray"}]
execute if score @p Timer matches 330 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 530 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" This group was known as the ","color":"gray"},{"text":"Experimental Intelligence: Sustainable Technology","color":"yellow"},{"text":" or ","color":"gray"},{"text":"EXIST","color":"yellow"},{"text":" for short.","color":"gray"}]
execute if score @p Timer matches 530 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 620 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" Their common goal was to eliminate the ","color":"gray"},{"text":"Limbo","color":"red"},{"text":" as fast and effectively as they could, which would prolong and sustain all life indefinitely.","color":"gray"}]
execute if score @p Timer matches 620 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 780 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" Over the course of a few months, ","color":"gray"},{"text":"EXIST","color":"yellow"},{"text":" were able to interrupt the outbreak, stopping it in its tracks before it took anything more.","color":"gray"}]
execute if score @p Timer matches 780 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 920 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" They did this by creating two beacons of light on the edge of this very city which contain such great amounts of energy to terminate the ","color":"gray"},{"text":"Limbo","color":"red"},{"text":".","color":"gray"}]
execute if score @p Timer matches 920 run function main:dialogues/bright/bright_fxv

execute if score @p Timer matches 1070 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" As years passed, ","color":"gray"},{"text":"EXIST","color":"yellow"},{"text":" began to lessen the power of the beacons to see if the ","color":"gray"},{"text":"Limbo","color":"red"},{"text":" would ever return. But, to their surprise, it never came.","color":"gray"}]
execute if score @p Timer matches 1070 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 1220 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" Soon, they realized they would not need the beacons for the purpose of repelling the outbreak, so they decided to slightly change their plans. (This is when you come in).","color":"gray"}]
execute if score @p Timer matches 1220 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 1400 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" EXIST","color":"yellow"},{"text":" realized that, with such power, they would be able to make it appear like they were stopping the ","color":"gray"},{"text":"Limbo","color":"red"},{"text":", while actually brainwashing all people to take full control across the planet.","color":"gray"}]
execute if score @p Timer matches 1400 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 1600 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" Of course, an idea this preposterous would inherently be refuted by most people, if not all, with at least a half of an ounce of common sense!","color":"gray"}]
execute if score @p Timer matches 1600 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 1750 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" And you, my friend, were one of those people.","color":"gray"}]
execute if score @p Timer matches 1750 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 1810 run tellraw @p ["",{"text":"","extra":[{"selector":"@p"},{"text":" ›››"}],"color":"yellow","bold":true},{"text":" Hold on, I'm very confused at the moment. Please, explain.","color":"gray"}]
execute if score @p Timer matches 1810 run execute at @p run playsound minecraft:block.note_block.harp ambient @a ~ ~ ~

execute if score @p Timer matches 1870 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" You and I used to be partners back then at ","color":"gray"},{"text":"EXIST","color":"yellow"},{"text":". Hell, we were only a few steps down from the Chairman!","color":"gray"}]
execute if score @p Timer matches 1870 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 1960 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" However, when you and I were informed of this madness, you instantly revolted and scoffed at the mere image of what they would be causing, which led to your own demise.","color":"gray"}]
execute if score @p Timer matches 1960 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 2120 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" The Council immediately terminated you, as it seemed, and, after that day, you were no where to be found.","color":"gray"}]
execute if score @p Timer matches 2120 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 2210 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" Luckily for me, I was able to exit the headquarters as fast as a cat chasing a creeper! And, well, I changed my identity so they would never find me.","color":"gray"}]
execute if score @p Timer matches 2210 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 2350 run tellraw @p ["",{"text":"","extra":[{"selector":"@p"},{"text":" ›››"}],"color":"yellow","bold":true},{"text":" So I just seemingly... vanished?","color":"gray"}]
execute if score @p Timer matches 2350 run execute at @p run playsound minecraft:block.note_block.harp ambient @a ~ ~ ~

execute if score @p Timer matches 2390 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" Precisely. After that, I knew I needed to stop ","color":"gray"},{"text":"EXIST","color":"yellow"},{"text":" before it was too late, but I also knew it was only a matter of time before they found me again.","color":"gray"}]
execute if score @p Timer matches 2390 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 2530 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" Hence, I created this laboratory known as ","color":"gray"},{"text":"BluSci","color":"aqua"},{"text":" to hide my true motives from ","color":"gray"},{"text":"EXIST","color":"yellow"},{"text":".","color":"gray"}]
execute if score @p Timer matches 2530 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 2590 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" I recruited some fellow scientists to help me locate where you might have been and, to our surprise, located you to be 2000 years in the past!","color":"gray"}]
execute if score @p Timer matches 2590 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 2730 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" Since we had your location, we devised a test, of sorts, to guarantee it was you and only you that would return.","color":"gray"}]
execute if score @p Timer matches 2730 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 2830 run tellraw @p ["",{"text":"","extra":[{"selector":"@p"},{"text":" ›››"}],"color":"yellow","bold":true},{"text":" So you're telling me that Myrefall was just a \"test\" and it was my \"fate\", rather path, that I would end up there?!","color":"gray"}]
execute if score @p Timer matches 2830 run execute at @p run playsound minecraft:block.note_block.harp ambient @a ~ ~ ~

execute if score @p Timer matches 2930 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" Basically.","color":"gray"}]
execute if score @p Timer matches 2930 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 2950 run tellraw @p ["",{"text":"","extra":[{"selector":"@p"},{"text":" ›››"}],"color":"yellow","bold":true},{"text":" So, let me get this straight, I believed I had free will but it was all just a pre-determined life set right in front of me?","color":"gray"}]
execute if score @p Timer matches 2950 run execute at @p run playsound minecraft:block.note_block.harp ambient @a ~ ~ ~

execute if score @p Timer matches 3070 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" Now, now, don't get heated about this. When ","color":"gray"},{"text":"EXIST","color":"yellow"},{"text":" exiled you, you were stripped of all your past memory, ideas, thoughts, and everything you.","color":"gray"}]
execute if score @p Timer matches 3070 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 3210 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" You believed you were a completely different person from who you actually were.","color":"gray"}]
execute if score @p Timer matches 3210 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 3270 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" Just know that the good thing is that you're back and ready to get revenge.","color":"gray"}]
execute if score @p Timer matches 3270 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 3330 run tellraw @p ["",{"text":"","extra":[{"selector":"@p"},{"text":" ›››"}],"color":"yellow","bold":true},{"text":" Wait a minute! How do I know for sure that all you've said is correct?! You don't even have any proof!","color":"gray"}]
execute if score @p Timer matches 3330 run execute at @p run playsound minecraft:block.note_block.harp ambient @a ~ ~ ~

execute if score @p Timer matches 3420 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" Well, I guess it is entirely up to you.","color":"gray"}]
execute if score @p Timer matches 3420 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 3460 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" As stated by one of my ancestors: This is your last chance. After this, there is no turning back.","color":"gray"}]
execute if score @p Timer matches 3460 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 3550 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" You take the ","color":"gray"},{"text":"Blue Pill","color":"blue"},{"text":" - the story ends, you wake up in your bed and believe whatever you want to believe.","color":"gray"}]
execute if score @p Timer matches 3550 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 3640 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" You take the ","color":"gray"},{"text":"Red Pill","color":"red"},{"text":" - you stay in Wonderland, and I show you how deep the rabbit hole goes.","color":"gray"}]
execute if score @p Timer matches 3640 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 3730 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" Remember: all I'm offering is the truth.","color":"gray"}]
execute if score @p Timer matches 3730 run function main:dialogues/bright/bright_fx

execute if score @p Timer matches 3770 run tellraw @p ["",{"text":"DR. BRIGHT ›››","color":"dark_aqua","bold":true},{"text":" Nothing more.","color":"gray"}]
execute if score @p Timer matches 3770 run function main:dialogues/bright/bright_fx

# Give player choice between two pills
execute if score @p Timer matches 3810 run give @p minecraft:golden_apple{display:{Name:'{"text":"Blue Pill","color":"blue","italic":false}'}} 1
execute if score @p Timer matches 3810 run give @p minecraft:enchanted_golden_apple{display:{Name:'{"text":"Red Pill","color":"red","italic":false}'}} 1

# Create scoreboard objectives
scoreboard objectives add bluePill minecraft.used:minecraft.golden_apple
scoreboard objectives add redPill minecraft.used:minecraft.enchanted_golden_apple

# If player eats blue pill, call function that teleports player to house
execute if score @p bluePill matches 1 run setblock -1968 79 943 redstone_block

# If player eats red pill, call function that continues dialogue
execute if score @p redPill matches 1 run setblock -1968 79 941 redstone_block

########################################

function main:timer/increment

# Turn off repeating command block
execute if score @p bluePill matches 1 run data merge block -1965 79 937 {auto:0}
execute if score @p redPill matches 1 run data merge block -1965 79 937 {auto:0}

# Reset Timer
execute if score @p bluePill matches 1 run function main:timer/reset
execute if score @p redPill matches 1 run function main:timer/reset
